# ? Linux学習テンプレート（例えで覚える）

## ? 学習ゴール
- Linuxの仕組みを"頭で理解"して、"手で動かせる"ようになる
- 「なんでそうなるの？」を例えで説明できるようになる
- LinuC101/102合格レベルの土台をつくる

---

## ? Section A：理解ノート（例えで覚える）

### 基本概念編

| 用語 | 意味 | 例え | ひとことメモ |
|------|------|------|---------------|
| **カーネル** | OSの心臓。ハードとソフトをつなぐ | 先生（カーネル）が通訳して、生徒（アプリ）と機械（PC）が会話する | 一番偉い。Linuxの本体 |
| **プロセス** | 実行中のプログラム | 工場で動いてる機械 | メモリを使う実体 |
| **systemd** | 全プロセスの親玉 | 工場の社長。全員の出退勤管理 | PID1はこれ。SysVinitの後継 |
| **サービス（デーモン）** | 裏でずっと働くやつ | 掃除ロボ。人が見てなくても動いてる | -d はdaemonのd（sshd, httpdなど） |
| **ファイルシステム** | データの整理棚 | 本棚にラベル貼って管理 | ext4、xfs、btrfsなど |
| **シェル** | 人間とカーネルの通訳 | レストランのウェイター。注文（コマンド）を厨房（カーネル）に伝える | bash、zshなど |
| **ディストリビューション** | Linuxの味付けバージョン | 同じ米でも、おにぎり・寿司・チャーハンがある | Ubuntu、CentOS、Debianなど |

### プロセス管理編

| 用語 | 意味 | 例え | ひとことメモ |
|------|------|------|---------------|
| **PID** | プロセスの背番号 | 社員番号。一人一人違う | Process ID。必ず一意 |
| **親プロセス** | プロセスを生み出した元 | 親ガメ | PPID（Parent Process ID） |
| **フォアグラウンド** | 今操作してるやつ | 今話してる相手 | Ctrl+Cで止められる |
| **バックグラウンド** | 裏で動いてるやつ | 洗濯機回しながら料理 | `&`で実行、`jobs`で確認 |
| **ゾンビプロセス** | 死んでるのに残ってる | 幽霊社員。名簿には残ってるけど実体なし | 親が回収してないプロセス |
| **シグナル** | プロセスへの合図 | 工場の非常ベル | SIGTERM（優しく終了）、SIGKILL（強制終了） |

### ファイル・権限編

| 用語 | 意味 | 例え | ひとことメモ |
|------|------|------|---------------|
| **inode** | ファイルの住民票 | 本の管理番号 | ファイル名とは別の内部ID |
| **ハードリンク** | 同じ実体への別名 | 同じ人の本名とあだ名 | inodeが同じ |
| **シンボリックリンク** | ショートカット | 住所メモ。本体は別の場所 | Windowsのショートカット的 |
| **パーミッション** | 誰が何できるか | 家の鍵。持ってる人だけ入れる | rwx（読む・書く・実行） |
| **所有者** | ファイルの持ち主 | 家の大家さん | user（u） |
| **グループ** | チームメンバー | 家族。みんなで使える | group（g） |
| **その他** | 外部の人 | 通りすがりの人 | others（o） |

### ネットワーク編

| 用語 | 意味 | 例え | ひとことメモ |
|------|------|------|---------------|
| **IPアドレス** | ネット上の住所 | 家の住所 | 192.168.1.100みたいなやつ |
| **ポート番号** | サービスの窓口 | マンションの部屋番号 | 80番（HTTP）、22番（SSH） |
| **ファイアウォール** | 門番 | マンションの管理人。怪しい人は入れない | iptables、firewalldなど |
| **DNS** | 住所録 | 電話帳。名前→番号に変換 | google.com → IPアドレス |
| **ルーティング** | 道案内 | カーナビ。どの道を通るか決める | パケットの経路決定 |

---

## ? Section B：実践コマンドノート

### プロセス管理

| コマンド例 | 目的 | オプション説明 | 実行して感じたこと |
|------------|------|----------------|-------------------|
| `ps aux` | すべてのプロセスを確認 | a=全ユーザー、u=詳細、x=端末なしも |  |
| `ps -ef` | プロセスをツリー形式で | e=全て、f=フル形式 |  |
| `top` | リアルタイムでプロセス監視 | CPU使用率の高い順 |  |
| `htop` | topの見やすい版 | カラフルで操作しやすい |  |
| `pgrep sshd` | sshdのPIDを検索 | プロセス名で検索 |  |
| `kill 1234` | PID 1234を終了 | SIGTERMを送信（優しく終了） |  |
| `kill -9 1234` | PID 1234を強制終了 | SIGKILL（問答無用） |  |
| `killall firefox` | firefoxを全部終了 | プロセス名で指定 |  |
| `nice -n 10 command` | 優先度を下げて実行 | 数字が大きいほど優先度低い |  |
| `renice 5 -p 1234` | 実行中の優先度変更 | 後から変更できる |  |

### systemd管理

| コマンド例 | 目的 | 意味 | 実行して感じたこと |
|------------|------|------|-------------------|
| `systemctl status sshd` | sshdの状態確認 | 動いてる？止まってる？ |  |
| `systemctl start sshd` | sshdを起動 | 今すぐ起動 |  |
| `systemctl stop sshd` | sshdを停止 | 今すぐ停止 |  |
| `systemctl restart sshd` | sshdを再起動 | 設定変更後によく使う |  |
| `systemctl enable sshd` | 起動時に自動起動 | 電源入れたら自動で動く |  |
| `systemctl disable sshd` | 自動起動を無効化 | 手動でしか起動しない |  |
| `systemctl list-units` | 全サービス一覧 | 何が動いてるか確認 |  |
| `systemctl is-active sshd` | 今動いてる？ | active/inactiveで返答 |  |
| `systemctl is-enabled sshd` | 自動起動設定されてる？ | enabled/disabledで返答 |  |

**重要な違い**
- `start/stop` → **今すぐ**の動作
- `enable/disable` → **起動時**の動作

### ログ確認

| コマンド例 | 目的 | オプション説明 | 実行して感じたこと |
|------------|------|----------------|-------------------|
| `journalctl` | systemdのログ全部 | 全ログを表示 |  |
| `journalctl -u sshd` | sshdのログだけ | -u はunit（サービス）指定 |  |
| `journalctl -b` | 今回起動後のログ | -b はboot（起動） |  |
| `journalctl -f` | リアルタイムでログ監視 | -f はfollow（追跡） |  |
| `journalctl --since "1 hour ago"` | 1時間前からのログ | 時間指定 |  |
| `journalctl -p err` | エラーログだけ | -p はpriority（優先度） |  |
| `tail -f /var/log/messages` | 従来のログ監視 | リアルタイムで表示 |  |
| `grep ERROR /var/log/syslog` | エラーを検索 | キーワードで絞り込み |  |

### ファイル操作

| コマンド例 | 目的 | 意味 | 実行して感じたこと |
|------------|------|------|-------------------|
| `ls -la` | 詳細表示（隠しファイルも） | l=詳細、a=all（全部） |  |
| `ls -lh` | 人間に読みやすいサイズ | h=human readable |  |
| `ls -li` | inode番号も表示 | i=inode |  |
| `chmod 755 file` | 権限変更 | rwxr-xr-x（所有者は全権限） |  |
| `chmod u+x file` | 所有者に実行権限追加 | u=user、+=追加、x=実行 |  |
| `chown user:group file` | 所有者変更 | user:groupの形式 |  |
| `ln file hardlink` | ハードリンク作成 | 同じinodeを指す |  |
| `ln -s file symlink` | シンボリックリンク作成 | -s はsymbolic |  |
| `find / -name "*.log"` | ログファイル検索 | /以下を全検索 |  |
| `find / -type f -size +100M` | 100MB以上のファイル | サイズで検索 |  |

### パッケージ管理

| コマンド例（Debian系） | 目的 | 実行して感じたこと |
|----------------------|------|-------------------|
| `apt update` | パッケージリスト更新 |  |
| `apt upgrade` | 全パッケージ更新 |  |
| `apt install nginx` | nginxをインストール |  |
| `apt remove nginx` | nginxをアンインストール |  |
| `apt search keyword` | パッケージ検索 |  |

| コマンド例（RedHat系） | 目的 | 実行して感じたこと |
|----------------------|------|-------------------|
| `yum update` | パッケージ更新 |  |
| `yum install httpd` | httpdをインストール |  |
| `yum remove httpd` | httpdをアンインストール |  |
| `dnf install nginx` | nginxをインストール（新しい） |  |

### ネットワーク

| コマンド例 | 目的 | 意味 | 実行して感じたこと |
|------------|------|------|-------------------|
| `ip a` | IPアドレス確認 | address の略 |  |
| `ip link` | ネットワークインターフェース確認 | 物理的な接続状態 |  |
| `ip route` | ルーティングテーブル確認 | どこに送るか |  |
| `ping google.com` | 疎通確認 | 届くかテスト |  |
| `traceroute google.com` | 経路確認 | どこを通ってるか |  |
| `netstat -tuln` | ポート待ち受け確認 | t=TCP、u=UDP、l=listen、n=数字 |  |
| `ss -tuln` | netstatの新しい版 | より高速 |  |
| `curl http://example.com` | HTTP通信テスト | Webページ取得 |  |
| `wget http://example.com/file` | ファイルダウンロード | curlより簡単 |  |

---

## ? Section C：思い出し練習（リピート確認）

### 基本概念
- [ ] systemdはなにの代わり？ → **SysVinitの代わり。新しい起動管理システム**
- [ ] runlevel3 は何に相当する？ → **multi-user.target（マルチユーザーモード、GUI無し）**
- [ ] `enable` と `start` の違いは？ → **enable=起動時に自動、start=今すぐ起動**
- [ ] カーネルとシェルの違いは？ → **カーネル=OS本体、シェル=人間との通訳**
- [ ] デーモンとは？ → **バックグラウンドで動き続けるサービス**

### コマンド理解
- [ ] `ps aux` の `x` オプションはなにを表示？ → **端末に紐づいていないプロセスも表示**
- [ ] `journalctl` の「-f」ってなに？ → **follow（追跡）。リアルタイムでログを表示**
- [ ] `kill` と `kill -9` の違いは？ → **kill=優しく終了要求、kill -9=強制終了**
- [ ] `chmod 755` の意味は？ → **rwxr-xr-x（所有者=全権限、他=読み+実行）**
- [ ] `ln` と `ln -s` の違いは？ → **ln=ハードリンク、ln -s=シンボリックリンク**

### ファイルシステム
- [ ] inodeとは？ → **ファイルの管理番号。ファイル名とは別の内部ID**
- [ ] ハードリンクとシンボリックリンクの違いは？ → **ハード=同じ実体、シンボリック=ショートカット**
- [ ] `/etc` には何が入ってる？ → **設定ファイル**
- [ ] `/var/log` には何が入ってる？ → **ログファイル**
- [ ] `/home` には何が入ってる？ → **ユーザーのホームディレクトリ**

### ネットワーク
- [ ] ポート22番は何のサービス？ → **SSH（リモート接続）**
- [ ] ポート80番は何のサービス？ → **HTTP（Web）**
- [ ] ポート443番は何のサービス？ → **HTTPS（暗号化Web）**
- [ ] `127.0.0.1` とは？ → **localhost（自分自身）**
- [ ] DNSの役割は？ → **ドメイン名をIPアドレスに変換**

---

## ? Section D：例えメモ（Notionに転記OK）

### システム全体の例え

| 概念 | 例え | 補足 |
|------|------|------|
| **Linux全体** | 会社 | カーネル=社長、プロセス=社員、ファイル=書類 |
| **カーネル** | 翻訳者・通訳 | 機械語?人間語を変換。一番偉い |
| **シェル** | 受付・窓口 | ユーザーの要望をカーネルに伝える |
| **ファイルシステム** | 図書館 | 本（ファイル）を整理して保管 |
| **ディストリビューション** | 料理のアレンジ | 同じ材料（カーネル）でも、味付けが違う |

### プロセス管理の例え

| 概念 | 例え | 補足 |
|------|------|------|
| **systemd** | 学校の担任 | 登校（起動）と下校（終了）を管理。PID1 |
| **プロセス** | 工場の機械 | 動いてる実体。メモリとCPUを使う |
| **プロセスツリー** | 家系図 | systemdが親、子プロセスが続く |
| **フォアグラウンド** | 今話してる相手 | 他のことができない |
| **バックグラウンド** | 洗濯機 | 裏で動いてる。他のこともできる |
| **ゾンビプロセス** | 幽霊社員 | 名簿には残ってるけど実体なし |
| **シグナル** | 非常ベル | プロセスへの合図。TERM=優しく、KILL=強制 |

### ファイル・権限の例え

| 概念 | 例え | 補足 |
|------|------|------|
| **ファイル権限** | 家の鍵 | 誰が開けられるか決まってる |
| **所有者（user）** | 家の持ち主 | 一番権限が強い |
| **グループ（group）** | 家族 | みんなで使える |
| **その他（others）** | 通りすがりの人 | 外部の人 |
| **rwx** | 読む・書く・実行 | r=見る、w=変更、x=動かす |
| **inode** | 本の管理番号 | 図書館の整理番号 |
| **ハードリンク** | 本名とあだ名 | 同じ人（実体）への別名 |
| **シンボリックリンク** | 住所メモ | 本体は別の場所にある |

### ログ・監視の例え

| 概念 | 例え | 補足 |
|------|------|------|
| **ログ** | 防犯カメラ | 過去の出来事が残ってる |
| **journalctl** | 監視カメラの録画再生 | systemdのログを見る |
| **tail -f** | ライブカメラ | リアルタイムで見続ける |
| **grep** | 録画から検索 | キーワードで絞り込み |

### ネットワークの例え

| 概念 | 例え | 補足 |
|------|------|------|
| **IPアドレス** | 家の住所 | ネット上の場所 |
| **ポート番号** | マンションの部屋番号 | サービスの窓口 |
| **ファイアウォール** | マンションの管理人 | 怪しい人は入れない |
| **DNS** | 電話帳 | 名前→番号に変換 |
| **ルーティング** | カーナビ | どの道を通るか決める |
| **ping** | 呼びかけ | 「聞こえてる？」の確認 |
| **SSH** | 電話 | 遠くのPCを操作 |

---

## ? Section E：成長ログ

### ? 学習日：____年____月____日

#### 今日理解できたこと
- 
- 
- 

#### 手で試したコマンド
```bash
# ここに実際に実行したコマンドを記録




```

#### よく分からなかったこと
- 
- 
- 

#### 次やるテーマ
- [ ] 
- [ ] 
- [ ] 

---

## ? Section F：重要ディレクトリ一覧

| ディレクトリ | 役割 | 例え |
|-------------|------|------|
| `/` | ルート。全ての起点 | 木の根っこ |
| `/bin` | 基本コマンド | よく使う道具箱 |
| `/sbin` | 管理者用コマンド | 管理人専用の道具箱 |
| `/etc` | 設定ファイル | 説明書置き場 |
| `/home` | ユーザーのホーム | 各自の部屋 |
| `/root` | root専用ホーム | 社長室 |
| `/var` | 変動するデータ | 日記帳（ログなど） |
| `/var/log` | ログファイル | 防犯カメラの録画 |
| `/tmp` | 一時ファイル | メモ帳（再起動で消える） |
| `/usr` | ユーザー用プログラム | アプリ置き場 |
| `/opt` | 追加ソフト | 後から入れたアプリ |
| `/dev` | デバイスファイル | 機械との窓口 |
| `/proc` | プロセス情報 | 今の状態を見る窓 |
| `/sys` | システム情報 | 機械の設計図 |

---

## ? Section G：LinuC対策ポイント

### LinuC 101で出るテーマ

#### 1. システムアーキテクチャ
- [ ] ハードウェア設定の確認（`lspci`, `lsusb`）
- [ ] ブートプロセスの理解（BIOS → ブートローダー → カーネル → init/systemd）
- [ ] ランレベル/ターゲットの理解

#### 2. Linuxのインストールとパッケージ管理
- [ ] パーティション設計（`fdisk`, `parted`）
- [ ] パッケージ管理（apt, yum, dnf, rpm）
- [ ] 共有ライブラリ（`ldd`, `ldconfig`）

#### 3. GNUとUnixコマンド
- [ ] ファイル操作（`cp`, `mv`, `rm`, `find`, `tar`）
- [ ] テキスト処理（`grep`, `sed`, `awk`, `cut`, `sort`）
- [ ] リダイレクトとパイプ（`>`, `>>`, `|`）
- [ ] プロセス管理（`ps`, `top`, `kill`, `nice`）

#### 4. デバイス、Linuxファイルシステム、FHS
- [ ] ファイルシステム作成（`mkfs`, `mount`）
- [ ] ディスク管理（`df`, `du`, `fsck`）
- [ ] パーミッション（`chmod`, `chown`, `umask`）
- [ ] ハード/シンボリックリンク（`ln`）

### LinuC 102で出るテーマ

#### 1. シェル、スクリプト
- [ ] シェル環境（`bash`, 環境変数、`alias`）
- [ ] シェルスクリプト（if, for, while）
- [ ] SQL基礎（SELECT, INSERT, UPDATE）

#### 2. ユーザーインターフェースとデスクトップ
- [ ] X Window System
- [ ] アクセシビリティ

#### 3. 管理タスク
- [ ] ユーザー管理（`useradd`, `usermod`, `passwd`）
- [ ] ジョブスケジューリング（`cron`, `at`）
- [ ] ローカライゼーション（`locale`, `timedatectl`）

#### 4. 重要なシステムサービス
- [ ] システム時刻（`date`, `hwclock`, `timedatectl`）
- [ ] ログ管理（`rsyslog`, `journalctl`）
- [ ] メール配送（MTA基礎）
- [ ] プリンタ管理（CUPS）

#### 5. ネットワークの基礎
- [ ] TCP/IP基礎（IPアドレス、サブネット）
- [ ] ネットワーク設定（`ip`, `nmcli`）
- [ ] トラブルシューティング（`ping`, `traceroute`, `netstat`）

#### 6. セキュリティ
- [ ] セキュリティ管理（`sudo`, `su`）
- [ ] ホストセキュリティ（`iptables`, `firewalld`）
- [ ] 暗号化（`ssh`, `gpg`）

---

## ? Section H：よくある間違いと対策

| 間違い | 正しい理解 | 覚え方 |
|--------|-----------|--------|
| `enable` したら起動する | `enable` は自動起動設定。今すぐ起動は `start` | enable=予約、start=今すぐ |
| `kill` は強制終了 | `kill` は優しく終了要求。強制は `kill -9` | killは「お願い」、-9は「強制」 |
| ハードリンクは別ファイル | ハードリンクは同じinode。実体は1つ | 本名とあだ名 |
| シンボリックリンクは実体 | シンボリックリンクはショートカット | 住所メモ |
| `chmod 777` は安全 | 777は全員が全権限。危険！ | 家の鍵を全員に配る |
| rootで常に作業 | rootは最小限に。普段は一般ユーザー | 社長は普段は現場に出ない |

---

## ? Section I：実践演習（手を動かす）

### 演習1：プロセス管理
```bash
# 1. 全プロセスを確認
ps aux

# 2. sshdのPIDを確認
pgrep sshd

# 3. sshdの状態を確認
systemctl status sshd

# 4. バックグラウンドでsleepを実行
sleep 100 &

# 5. ジョブ一覧を確認
jobs

# 6. バックグラウンドジョブを停止
kill %1
```

### 演習2：ファイル権限
```bash
# 1. テストファイル作成
touch testfile.txt

# 2. 権限確認
ls -l testfile.txt

# 3. 権限変更（所有者のみ読み書き）
chmod 600 testfile.txt

# 4. 実行権限追加
chmod u+x testfile.txt

# 5. グループに読み権限追加
chmod g+r testfile.txt

# 6. 最終確認
ls -l testfile.txt
```

### 演習3：ログ確認
```bash
# 1. 全ログを確認（最新10件）
journalctl -n 10

# 2. sshdのログだけ確認
journalctl -u sshd

# 3. 今回起動後のエラーログ
journalctl -b -p err

# 4. リアルタイムでログ監視
journalctl -f

# 5. 1時間前からのログ
journalctl --since "1 hour ago"
```

### 演習4：ネットワーク
```bash
# 1. IPアドレス確認
ip a

# 2. ルーティングテーブル確認
ip route

# 3. google.comに疎通確認
ping -c 4 google.com

# 4. 待ち受けポート確認
ss -tuln

# 5. HTTPリクエスト送信
curl -I https://www.google.com
```

---

## ? Section J：参考資料・学習リソース

### 公式ドキュメント
- [LinuC公式サイト](https://linuc.org/)
- [Linux Documentation Project](https://tldp.org/)
- [man pages online](https://man7.org/linux/man-pages/)

### おすすめ書籍
- 「新しいLinuxの教科書」（SBクリエイティブ）
- 「Linux教科書 LinuC レベル1」（翔泳社）
- 「入門者のLinux」（講談社）

### オンライン学習
- [Udemy Linux講座](https://www.udemy.com/)
- [Progate コマンドライン](https://prog-8.com/)
- [ドットインストール Linux入門](https://dotinstall.com/)

### 実践環境
- VirtualBox + Ubuntu（無料）
- WSL2（Windows）
- Docker（コンテナで学習）

---

## ? 最終チェックリスト

### 基礎理解
- [ ] カーネルとシェルの違いを説明できる
- [ ] プロセスとサービスの違いを説明できる
- [ ] systemdの役割を説明できる
- [ ] ファイル権限（rwx）を説明できる
- [ ] inodeとは何か説明できる

### コマンド実践
- [ ] `ps`, `top` でプロセスを確認できる
- [ ] `systemctl` でサービスを管理できる
- [ ] `journalctl` でログを確認できる
- [ ] `chmod`, `chown` で権限を変更できる
- [ ] `ip`, `ping` でネットワークを確認できる

### トラブルシューティング
- [ ] サービスが起動しない時の確認方法を知っている
- [ ] ログからエラーを探せる
- [ ] ディスク容量不足を確認できる
- [ ] ネットワーク疎通を確認できる
- [ ] プロセスが暴走した時の対処を知っている

---

> ?「覚えた知識を自分の言葉で例え直せるようになったら、それは本当の理解。」

**作成日**: 2024年11月1日  
**対象**: Linux初学者?LinuC101/102受験者  
**更新**: 学習進捗に応じて追記してください
